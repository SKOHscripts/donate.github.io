<div id="qrcode-section" style="display:none;">
  <p>Scannez ce QR code dans votre application Bitcoin :</p>
  <div id="qrcode"></div>
</div>

<script src="qrcode.min.js"></script>
<script>
const bitcoinUri = "bitcoin:?lno=lno1pg85yateypkk2grpyp3k7enxv4j3pmsrse80qf0aara4slvcjxrvu6j2rp5ftmjy4yntlsmsutpkvkt6878sx0ktfqdcpnruqp8akqzrnuahqalud0rxc9r89dkgfn79rnfxys0hqgpnx5tfhxdf82g437s2486w2xp4yzk96gm9zfs6a6wjs2cze9r9ulqqx0gy284nnu7xvt3qtwep34yvggslpqznxnej6u3xl77dpt9vs7exv7tgs3kqqq32z859j26p4c4xcw26cwvqy0vxv9d66zptw6s0g0kr3jhlujef6z793l38cdqe5ydy3fq5mhs0qqefpxfacl4kh5edmc4v3pdywndl8ctcj6xk96pxld7pdwlkl40zpwzgdamfsdtnrxxalsn8mdwfc3zqlytq";

// Tentative de redirection
window.location.href = bitcoinUri;

// Fonction pour afficher le QR code
function showQRCode() {
  const qrSection = document.getElementById('qrcode-section');
  const qrDiv = document.getElementById('qrcode');
  
  qrSection.style.display = 'block';
  
  // Vider le div avant de créer le QR code
  qrDiv.innerHTML = '';
  
  // Créer le QR code
  new QRCode(qrDiv, {
    text: bitcoinUri,
    width: 256,
    height: 256,
    colorDark: "#000000",
    colorLight: "#ffffff",
    correctLevel: QRCode.CorrectLevel.H
  });
}

// Afficher le QR code après un délai
setTimeout(showQRCode, 1000);

// Gestion du bouton retour
window.addEventListener('pageshow', function(event) {
  if (event.persisted) {
    showQRCode();
  }
});
</script>
